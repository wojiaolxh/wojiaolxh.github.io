<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue组件通讯 | 勿忘的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/avatar.png">
    <meta name="description" content="网站描述">
    
    <link rel="preload" href="/assets/css/0.styles.b23bcaa9.css" as="style"><link rel="preload" href="/assets/js/app.f1c655d9.js" as="script"><link rel="preload" href="/assets/js/2.5f75bc7c.js" as="script"><link rel="preload" href="/assets/js/28.a17b96a4.js" as="script"><link rel="prefetch" href="/assets/js/10.a71d7304.js"><link rel="prefetch" href="/assets/js/11.6f94e497.js"><link rel="prefetch" href="/assets/js/12.0d179624.js"><link rel="prefetch" href="/assets/js/13.e9a89278.js"><link rel="prefetch" href="/assets/js/14.7d41ea20.js"><link rel="prefetch" href="/assets/js/15.c14d442c.js"><link rel="prefetch" href="/assets/js/16.8a2ee272.js"><link rel="prefetch" href="/assets/js/17.a683bc65.js"><link rel="prefetch" href="/assets/js/18.7bd3e1ed.js"><link rel="prefetch" href="/assets/js/19.0d723740.js"><link rel="prefetch" href="/assets/js/20.d18ca8a4.js"><link rel="prefetch" href="/assets/js/21.22b75bfe.js"><link rel="prefetch" href="/assets/js/22.7e6fb782.js"><link rel="prefetch" href="/assets/js/23.9002abe0.js"><link rel="prefetch" href="/assets/js/24.7e00f53a.js"><link rel="prefetch" href="/assets/js/25.c9dbf47b.js"><link rel="prefetch" href="/assets/js/26.f116f6c6.js"><link rel="prefetch" href="/assets/js/27.553a66cd.js"><link rel="prefetch" href="/assets/js/29.5b6ed7a7.js"><link rel="prefetch" href="/assets/js/3.b77b1dc1.js"><link rel="prefetch" href="/assets/js/30.cdb3c8c7.js"><link rel="prefetch" href="/assets/js/31.6280fb91.js"><link rel="prefetch" href="/assets/js/32.0ef13458.js"><link rel="prefetch" href="/assets/js/33.d5779eeb.js"><link rel="prefetch" href="/assets/js/34.7375a1d9.js"><link rel="prefetch" href="/assets/js/35.b6854634.js"><link rel="prefetch" href="/assets/js/36.4c72afe9.js"><link rel="prefetch" href="/assets/js/37.c4b38050.js"><link rel="prefetch" href="/assets/js/4.053c9f86.js"><link rel="prefetch" href="/assets/js/5.3a29ffe9.js"><link rel="prefetch" href="/assets/js/6.7e1392e3.js"><link rel="prefetch" href="/assets/js/7.1f0c4561.js"><link rel="prefetch" href="/assets/js/8.31476672.js"><link rel="prefetch" href="/assets/js/9.40c7d040.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b23bcaa9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.png" alt="勿忘的博客" class="logo"> <span class="site-name can-hide">勿忘的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端积累" class="dropdown-title"><span class="title">前端积累</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端积累" class="mobile-dropdown-title"><span class="title">前端积累</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fontend/html/" class="nav-link">
  html css积累
</a></li><li class="dropdown-item"><!----> <a href="/fontend/js/DebounceAndThrottle.html" class="nav-link">
  javascript积累
</a></li><li class="dropdown-item"><!----> <a href="/fontend/vue/" class="nav-link router-link-active">
  vue积累
</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  前端算法
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端积累" class="dropdown-title"><span class="title">前端积累</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端积累" class="mobile-dropdown-title"><span class="title">前端积累</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fontend/html/" class="nav-link">
  html css积累
</a></li><li class="dropdown-item"><!----> <a href="/fontend/js/DebounceAndThrottle.html" class="nav-link">
  javascript积累
</a></li><li class="dropdown-item"><!----> <a href="/fontend/vue/" class="nav-link router-link-active">
  vue积累
</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  前端算法
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>html</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fontend/vue/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/fontend/vue/DefineGlobalFun.html" class="sidebar-link">定义全局函数</a></li><li><a href="/fontend/vue/Vuex.html" class="sidebar-link">Vuex</a></li><li><a href="/fontend/vue/ComponentPassValue.html" aria-current="page" class="active sidebar-link">Vue组件传值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fontend/vue/ComponentPassValue.html#_1-props、emit-最常用的父子通讯方式" class="sidebar-link">1. props、emit(最常用的父子通讯方式)</a></li><li class="sidebar-sub-header"><a href="/fontend/vue/ComponentPassValue.html#_2-事件总线-eventbus-常用任意两个组件之间通讯" class="sidebar-link">2. 事件总线 EventBus (常用任意两个组件之间通讯)</a></li><li class="sidebar-sub-header"><a href="/fontend/vue/ComponentPassValue.html#_3-vuex-状态管理" class="sidebar-link">3. Vuex 状态管理</a></li><li class="sidebar-sub-header"><a href="/fontend/vue/ComponentPassValue.html#_4-ref-引用的方式获取子节点" class="sidebar-link">4.  $ref （引用的方式获取子节点）</a></li><li class="sidebar-sub-header"><a href="/fontend/vue/ComponentPassValue.html#_5-attrs-attrs-listeners-常用于对原生组件的封装" class="sidebar-link">5.  attrs /attrs/listeners（常用于对原生组件的封装）</a></li><li class="sidebar-sub-header"><a href="/fontend/vue/ComponentPassValue.html#_6-provide-inject-祖先及其后代传值" class="sidebar-link">6.  provide / inject （祖先及其后代传值）</a></li></ul></li><li><a href="/fontend/vue/MVVM.html" class="sidebar-link">Vue双向数据绑定原理</a></li><li><a href="/fontend/vue/ComputedAndWatch.html" class="sidebar-link">computed和watch</a></li><li><a href="/fontend/vue/VueSlot.html" class="sidebar-link">Vue 插槽(slot)</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue组件通讯"><a href="#vue组件通讯" class="header-anchor">#</a> Vue组件通讯</h1> <h2 id="_1-props、emit-最常用的父子通讯方式"><a href="#_1-props、emit-最常用的父子通讯方式" class="header-anchor">#</a> 1. props、emit(最常用的父子通讯方式)</h2> <h4 id="父组件传入属性-子组件通过props接收-就可以在内部this-xxx的方式使用-子组件-emit-事件名-传递的参数-向外弹出一个自定义事件-在父组件中的属性监听事件-同时也能获取子组件传出来的参数"><a href="#父组件传入属性-子组件通过props接收-就可以在内部this-xxx的方式使用-子组件-emit-事件名-传递的参数-向外弹出一个自定义事件-在父组件中的属性监听事件-同时也能获取子组件传出来的参数" class="header-anchor">#</a> 父组件传入属性，子组件通过<code>props</code>接收，就可以在内部this.XXX的方式使用 子组件<code>$emit</code>(事件名，传递的参数)向外弹出一个自定义事件, 在父组件中的属性监听事件，同时也能获取子组件传出来的参数</h4> <div class="language-vue extra-class"><pre class="language-vue"><code>//	父组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-world</span> <span class="token attr-name">msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello world!<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@confirm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleConfirm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-world</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="token comment">//	子组件</span>
 props<span class="token operator">:</span> <span class="token punctuation">{</span>
    msg<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span><span class="token punctuation">{</span>
  	<span class="token function">handleEmitParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'confirm'</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span>
  	<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2-事件总线-eventbus-常用任意两个组件之间通讯"><a href="#_2-事件总线-eventbus-常用任意两个组件之间通讯" class="header-anchor">#</a> 2. 事件总线 EventBus (常用任意两个组件之间通讯)</h2> <h4 id="原理-开发订阅者模式-注册的事件存起来-等触发事件时再调用。定义一个类去处理事件-并挂载到vue实例的this上即可注册和触发事件-也可拓展一些事件管理"><a href="#原理-开发订阅者模式-注册的事件存起来-等触发事件时再调用。定义一个类去处理事件-并挂载到vue实例的this上即可注册和触发事件-也可拓展一些事件管理" class="header-anchor">#</a> 原理： 开发订阅者模式 ,注册的事件存起来，等触发事件时再调用。定义一个类去处理事件，并挂载到Vue实例的this上即可注册和触发事件，也可拓展一些事件管理</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>callbackList <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">$on</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 注册事件</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>callbackList<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>callbackList<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>callbackList<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">$emit</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 触发事件</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>callbackList<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>callbackList<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">cb</span> <span class="token operator">=&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 任意两个组件中</span>
<span class="token comment">// 组件一：在组件的 mounted() 去注册事件</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'confirm'</span><span class="token punctuation">,</span> handleConfirm<span class="token punctuation">)</span>

<span class="token comment">// 组件二：触发事件(如：点击事件后执行触发事件即可)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'confirm'</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span>


</code></pre></div><h2 id="_3-vuex-状态管理"><a href="#_3-vuex-状态管理" class="header-anchor">#</a> 3. Vuex 状态管理</h2> <h2 id="_4-ref-引用的方式获取子节点"><a href="#_4-ref-引用的方式获取子节点" class="header-anchor">#</a> 4.  $ref （引用的方式获取子节点）</h2> <h4 id="常用于父组件调用子组件的方法-如-列表数据变化通知子组件重新渲染列表等-vue提供了-refs来存储当前所有设置了ref属性的组件ps-因为需要渲染完才能获取到ref属性-所以建议在mounted后去调用-否则有可能会获取不到ps-如果定义了两个相同名字的ref则会this-refs-来存储当前所有设置了-ref-属性的组件-ps-因为需要渲染完才能获取到-ref-属性-所以建议在mounted后去调用-否则有可能会获取不到-ps-如果定义了两个相同名字的ref则会-this-refs来存储当前所有设置了ref属性的组件ps-因为需要渲染完才能获取到ref属性-所以建议在mounted后去调用-否则有可能会获取不到ps-如果定义了两个相同名字的ref则会this-refs-xxx将会是一个数组"><a href="#常用于父组件调用子组件的方法-如-列表数据变化通知子组件重新渲染列表等-vue提供了-refs来存储当前所有设置了ref属性的组件ps-因为需要渲染完才能获取到ref属性-所以建议在mounted后去调用-否则有可能会获取不到ps-如果定义了两个相同名字的ref则会this-refs-来存储当前所有设置了-ref-属性的组件-ps-因为需要渲染完才能获取到-ref-属性-所以建议在mounted后去调用-否则有可能会获取不到-ps-如果定义了两个相同名字的ref则会-this-refs来存储当前所有设置了ref属性的组件ps-因为需要渲染完才能获取到ref属性-所以建议在mounted后去调用-否则有可能会获取不到ps-如果定义了两个相同名字的ref则会this-refs-xxx将会是一个数组" class="header-anchor">#</a> 常用于父组件调用子组件的方法（如：列表数据变化通知子组件重新渲染列表等）,Vue提供了 refs来存储当前所有设置了ref属性的组件PS：因为需要渲染完才能获取到ref属性，所以建议在mounted后去调用，否则有可能会获取不到PS：如果定义了两个相同名字的ref则会this.refs 来存储当前所有设置了 ref 属性的组件 PS：因为需要渲染完才能获取到 ref 属性，所以建议在mounted后去调用，否则有可能会获取不到 PS：如果定义了两个相同名字的ref则会 this. refs来存储当前所有设置了ref属性的组件PS：因为需要渲染完才能获取到ref属性，所以建议在mounted后去调用，否则有可能会获取不到PS：如果定义了两个相同名字的ref则会this.refs.XXX将会是一个数组</h4> <div class="language-vue extra-class"><pre class="language-vue"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-world</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hello-world</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 调用引用的子组件的方法</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>hello<span class="token punctuation">.</span><span class="token function">handleRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="_5-attrs-attrs-listeners-常用于对原生组件的封装"><a href="#_5-attrs-attrs-listeners-常用于对原生组件的封装" class="header-anchor">#</a> 5.  attrs /attrs/listeners（常用于对原生组件的封装）</h2> <h4 id="attrs-可以获取父组件传进来但没有通过props接收的属性"><a href="#attrs-可以获取父组件传进来但没有通过props接收的属性" class="header-anchor">#</a> $attrs 可以获取父组件传进来但没有通过props接收的属性</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 父组件</span>
<span class="token operator">&lt;</span>Child <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;title&quot;</span> <span class="token operator">:</span>desc<span class="token operator">=</span><span class="token string">&quot;desc&quot;</span> <span class="token operator">&gt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">//  子组件内</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>$attrs<span class="token punctuation">.</span>desc<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>	
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>


</code></pre></div><h4 id="listeners-会展开父组件的所有监听的事件-click事件等-常用于更高层级的封装-举个例子-需求-一个页面中有两个组件的点击事件触发方法是一样的"><a href="#listeners-会展开父组件的所有监听的事件-click事件等-常用于更高层级的封装-举个例子-需求-一个页面中有两个组件的点击事件触发方法是一样的" class="header-anchor">#</a> $listeners 会展开父组件的所有监听的事件（click事件等）常用于更高层级的封装 举个例子（需求）：一个页面中有两个组件的点击事件触发方法是一样的&quot;</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  父组件</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>child<span class="token operator">-</span>first @click<span class="token operator">=</span><span class="token string">&quot;handleClick&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>child<span class="token operator">-</span>first<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>child<span class="token operator">-</span>second @click<span class="token operator">=</span><span class="token string">&quot;handleClick&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>child<span class="token operator">-</span>second<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    handleClick<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// child-first</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;$listeners&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">// child-second</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;$listeners&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><h2 id="_6-provide-inject-祖先及其后代传值"><a href="#_6-provide-inject-祖先及其后代传值" class="header-anchor">#</a> 6.  provide / inject （祖先及其后代传值）</h2> <h4 id="provide-inject-祖先及其后代传值"><a href="#provide-inject-祖先及其后代传值" class="header-anchor">#</a> provide / inject （祖先及其后代传值）</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  顶层组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      msg<span class="token operator">:</span> <span class="token string">'hello world!'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//  后代组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  inject<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'msg'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>


</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fontend/vue/Vuex.html" class="prev">
        Vuex
      </a></span> <span class="next"><a href="/fontend/vue/MVVM.html">
        Vue双向数据绑定原理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f1c655d9.js" defer></script><script src="/assets/js/2.5f75bc7c.js" defer></script><script src="/assets/js/28.a17b96a4.js" defer></script>
  </body>
</html>
